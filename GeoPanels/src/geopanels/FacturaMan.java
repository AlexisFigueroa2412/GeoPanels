/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package geopanels;
import Clases.ClaseFactura;
import Clases.ClaseFacturaMan;
import java.awt.HeadlessException;
import java.text.SimpleDateFormat;
import java.util.Date;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.JOptionPane;
/**
 *
 * @author jalex
 */
public class FacturaMan extends javax.swing.JPanel {
    
    ClaseFactura fac = new ClaseFactura(); 
    ClaseFacturaMan fam= new ClaseFacturaMan();
    /**
     * Creates new form FacturaMan
     */
    public FacturaMan() {
        initComponents();
        DarFecha();
        comboImpuesto();
        txtPrecioImpuesto.setVisible(false);
        txtPrecioImpuestoP.setVisible(false);
        txtIdImpuesto.setVisible(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel4 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        txtMan = new javax.swing.JTextField();
        jLabel8 = new javax.swing.JLabel();
        btnMan = new javax.swing.JButton();
        btnGuardarMan = new javax.swing.JButton();
        txtFecha = new javax.swing.JFormattedTextField();
        txtSub = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        cmbImpuesto = new javax.swing.JComboBox<>();
        jLabel6 = new javax.swing.JLabel();
        txtTotal = new javax.swing.JTextField();
        jLabel7 = new javax.swing.JLabel();
        jSeparator1 = new javax.swing.JSeparator();
        jLabel3 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        txtMp = new javax.swing.JTextField();
        jLabel10 = new javax.swing.JLabel();
        btnMan1 = new javax.swing.JButton();
        btnGuardarManP = new javax.swing.JButton();
        txtFechaP = new javax.swing.JFormattedTextField();
        txtSubP = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        cmbImpuestoP = new javax.swing.JComboBox<>();
        jLabel12 = new javax.swing.JLabel();
        txtTotalP = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        txtPrecioImpuesto = new javax.swing.JTextField();
        txtPrecioImpuestoP = new javax.swing.JTextField();
        txtIdImpuesto = new javax.swing.JTextField();
        btnLimpar = new javax.swing.JButton();

        setBackground(new java.awt.Color(42, 51, 56));
        setPreferredSize(new java.awt.Dimension(633, 651));
        setLayout(new java.awt.BorderLayout());

        jPanel4.setBackground(new java.awt.Color(42, 51, 56));

        jLabel2.setBackground(new java.awt.Color(255, 255, 255));
        jLabel2.setFont(new java.awt.Font("Segoe UI Light", 0, 24)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(149, 162, 166));
        jLabel2.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Factura.png"))); // NOI18N
        jLabel2.setText("Factura Mantenimiento");
        jLabel2.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        jLabel2.setIconTextGap(20);

        jLabel4.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(149, 162, 166));
        jLabel4.setText("Mantenimiento : ");

        txtMan.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        txtMan.setForeground(new java.awt.Color(50, 54, 59));
        txtMan.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtMan.setEnabled(false);

        jLabel8.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(149, 162, 166));
        jLabel8.setText("Fecha : ");

        btnMan.setBackground(new java.awt.Color(27, 35, 41));
        btnMan.setFont(new java.awt.Font("Segoe UI Light", 0, 10)); // NOI18N
        btnMan.setForeground(new java.awt.Color(149, 162, 166));
        btnMan.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Buscar.png"))); // NOI18N
        btnMan.setText("Buscar");
        btnMan.setBorderPainted(false);
        btnMan.setContentAreaFilled(false);
        btnMan.setOpaque(true);
        btnMan.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Buscar Hover.png"))); // NOI18N
        btnMan.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnManMouseClicked(evt);
            }
        });
        btnMan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnManActionPerformed(evt);
            }
        });

        btnGuardarMan.setBackground(new java.awt.Color(27, 35, 41));
        btnGuardarMan.setFont(new java.awt.Font("Segoe UI Light", 0, 12)); // NOI18N
        btnGuardarMan.setForeground(new java.awt.Color(149, 162, 166));
        btnGuardarMan.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Añadir.png"))); // NOI18N
        btnGuardarMan.setText("Añadir Factura");
        btnGuardarMan.setBorderPainted(false);
        btnGuardarMan.setContentAreaFilled(false);
        btnGuardarMan.setOpaque(true);
        btnGuardarMan.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Añadir Hover.png"))); // NOI18N
        btnGuardarMan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGuardarManActionPerformed(evt);
            }
        });

        txtFecha.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter(new java.text.SimpleDateFormat("MM/dd/yy"))));
        txtFecha.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtFecha.setEnabled(false);

        txtSub.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        txtSub.setForeground(new java.awt.Color(50, 54, 59));
        txtSub.setText("0.00");
        txtSub.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtSub.setEnabled(false);

        jLabel5.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(149, 162, 166));
        jLabel5.setText("Subtotal : ");

        cmbImpuesto.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "..." }));
        cmbImpuesto.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbImpuestoActionPerformed(evt);
            }
        });

        jLabel6.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel6.setForeground(new java.awt.Color(149, 162, 166));
        jLabel6.setText("Impuesto : ");

        txtTotal.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        txtTotal.setForeground(new java.awt.Color(50, 54, 59));
        txtTotal.setText("0.00");
        txtTotal.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtTotal.setEnabled(false);

        jLabel7.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(149, 162, 166));
        jLabel7.setText("Total : ");

        jSeparator1.setBackground(new java.awt.Color(42, 51, 56));
        jSeparator1.setForeground(new java.awt.Color(149, 162, 166));

        jLabel3.setBackground(new java.awt.Color(255, 255, 255));
        jLabel3.setFont(new java.awt.Font("Segoe UI Light", 0, 24)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(149, 162, 166));
        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Factura.png"))); // NOI18N
        jLabel3.setText("Factura Mantenimiento Programado");
        jLabel3.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        jLabel3.setIconTextGap(20);

        jLabel9.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(149, 162, 166));
        jLabel9.setText("Mantenimiento : ");

        txtMp.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        txtMp.setForeground(new java.awt.Color(50, 54, 59));
        txtMp.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtMp.setEnabled(false);

        jLabel10.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(149, 162, 166));
        jLabel10.setText("Fecha : ");

        btnMan1.setBackground(new java.awt.Color(27, 35, 41));
        btnMan1.setFont(new java.awt.Font("Segoe UI Light", 0, 10)); // NOI18N
        btnMan1.setForeground(new java.awt.Color(149, 162, 166));
        btnMan1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Buscar.png"))); // NOI18N
        btnMan1.setText("Buscar");
        btnMan1.setBorderPainted(false);
        btnMan1.setContentAreaFilled(false);
        btnMan1.setOpaque(true);
        btnMan1.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Buscar Hover.png"))); // NOI18N
        btnMan1.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnMan1MouseClicked(evt);
            }
        });
        btnMan1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMan1ActionPerformed(evt);
            }
        });

        btnGuardarManP.setBackground(new java.awt.Color(27, 35, 41));
        btnGuardarManP.setFont(new java.awt.Font("Segoe UI Light", 0, 12)); // NOI18N
        btnGuardarManP.setForeground(new java.awt.Color(149, 162, 166));
        btnGuardarManP.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Añadir.png"))); // NOI18N
        btnGuardarManP.setText("Añadir Factura");
        btnGuardarManP.setBorderPainted(false);
        btnGuardarManP.setContentAreaFilled(false);
        btnGuardarManP.setOpaque(true);
        btnGuardarManP.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Añadir Hover.png"))); // NOI18N
        btnGuardarManP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnGuardarManPActionPerformed(evt);
            }
        });

        txtFechaP.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.DateFormatter(new java.text.SimpleDateFormat("MM/dd/yy"))));
        txtFechaP.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtFechaP.setEnabled(false);

        txtSubP.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        txtSubP.setForeground(new java.awt.Color(50, 54, 59));
        txtSubP.setText("0.00");
        txtSubP.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtSubP.setEnabled(false);

        jLabel11.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel11.setForeground(new java.awt.Color(149, 162, 166));
        jLabel11.setText("Subtotal : ");

        cmbImpuestoP.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "..." }));
        cmbImpuestoP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cmbImpuestoPActionPerformed(evt);
            }
        });

        jLabel12.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel12.setForeground(new java.awt.Color(149, 162, 166));
        jLabel12.setText("Impuesto : ");

        txtTotalP.setFont(new java.awt.Font("Segoe UI Light", 0, 11)); // NOI18N
        txtTotalP.setForeground(new java.awt.Color(50, 54, 59));
        txtTotalP.setText("0.00");
        txtTotalP.setDisabledTextColor(new java.awt.Color(0, 0, 0));
        txtTotalP.setEnabled(false);

        jLabel13.setFont(new java.awt.Font("Segoe UI Light", 0, 14)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(149, 162, 166));
        jLabel13.setText("Total : ");

        txtPrecioImpuesto.setText("0.00");

        txtPrecioImpuestoP.setText("0.00");

        btnLimpar.setBackground(new java.awt.Color(42, 51, 56));
        btnLimpar.setFont(new java.awt.Font("Segoe UI Light", 0, 10)); // NOI18N
        btnLimpar.setForeground(new java.awt.Color(149, 162, 166));
        btnLimpar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Toalla.png"))); // NOI18N
        btnLimpar.setText("Limpiar");
        btnLimpar.setToolTipText("Limpiar Campos");
        btnLimpar.setBorderPainted(false);
        btnLimpar.setContentAreaFilled(false);
        btnLimpar.setOpaque(true);
        btnLimpar.setSelectedIcon(new javax.swing.ImageIcon(getClass().getResource("/Multimedia/Toalla Hover.png"))); // NOI18N
        btnLimpar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnLimparActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(10, 10, 10)
                        .addComponent(jLabel2)
                        .addGap(18, 18, 18)
                        .addComponent(txtPrecioImpuesto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(txtPrecioImpuestoP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtIdImpuesto, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnLimpar))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addContainerGap()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabel4)
                                    .addComponent(jLabel5)
                                    .addComponent(jLabel6)
                                    .addComponent(jLabel7))
                                .addGap(69, 69, 69)
                                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(cmbImpuesto, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addGroup(jPanel4Layout.createSequentialGroup()
                                        .addComponent(txtMan, javax.swing.GroupLayout.PREFERRED_SIZE, 446, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(18, 18, 18)
                                        .addComponent(btnMan, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(txtSub)
                                    .addComponent(txtTotal, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 563, javax.swing.GroupLayout.PREFERRED_SIZE)))
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addComponent(jLabel8)
                                .addGap(125, 125, 125)
                                .addComponent(txtFecha, javax.swing.GroupLayout.PREFERRED_SIZE, 563, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addGap(0, 406, Short.MAX_VALUE))
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(btnGuardarMan, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, 734, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel3)
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(btnGuardarManP, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jPanel4Layout.createSequentialGroup()
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(jLabel9)
                                .addComponent(jLabel11)
                                .addComponent(jLabel12)
                                .addComponent(jLabel13))
                            .addGap(69, 69, 69)
                            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(cmbImpuestoP, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                .addGroup(jPanel4Layout.createSequentialGroup()
                                    .addComponent(txtMp, javax.swing.GroupLayout.PREFERRED_SIZE, 446, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(18, 18, 18)
                                    .addComponent(btnMan1, javax.swing.GroupLayout.PREFERRED_SIZE, 99, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addComponent(txtSubP)
                                .addComponent(txtTotalP, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 563, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel10)
                        .addGap(125, 125, 125)
                        .addComponent(txtFechaP, javax.swing.GroupLayout.PREFERRED_SIZE, 563, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(6, 6, 6)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel2)
                            .addComponent(txtPrecioImpuesto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtPrecioImpuestoP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txtIdImpuesto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(btnLimpar)))
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel8)
                    .addComponent(txtFecha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel4)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtMan, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btnMan, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSub, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cmbImpuesto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel6))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel7)
                    .addComponent(txtTotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(btnGuardarMan, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jSeparator1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jLabel3)
                .addGap(18, 18, 18)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel10)
                    .addComponent(txtFechaP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel9)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGap(1, 1, 1)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txtMp, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btnMan1, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(txtSubP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel11))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cmbImpuestoP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel12))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel13)
                    .addComponent(txtTotalP, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(btnGuardarManP, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 141, Short.MAX_VALUE))
        );

        add(jPanel4, java.awt.BorderLayout.CENTER);
    }// </editor-fold>//GEN-END:initComponents

    public void DarFecha(){
        Date objDate = new Date(); 
        String strDateFormat = "dd-MM-yyyy"; 
        SimpleDateFormat objSDF = new SimpleDateFormat(strDateFormat);
        txtFecha.setText(objSDF.format(objDate));
        txtFechaP.setText(objSDF.format(objDate));
    }
    public void comboImpuesto(){
        cmbImpuesto.setModel(fac.Impuesto());
        cmbImpuestoP.setModel(fac.Impuesto());
    }
    public void Total(){
        
        double subtotal;
        double impuesto;
        double total;
        
        subtotal = Double.parseDouble(txtSub.getText());
        impuesto = Double.parseDouble(txtPrecioImpuesto.getText());
        
        total = subtotal + impuesto;
        txtTotal.setText(String.valueOf(total));
        String cadena = txtTotal.getText();
        String[] parts = cadena.split("\\.");      
        String cadena2 = parts[1];
        if(cadena2.length()==1){
            txtTotal.setText(cadena+0);
        }else if (cadena2.length()==0) {
            txtTotal.setText(cadena+00);
        }
        
    }
    public void TotalP(){
        
        double subtotal;
        double impuesto;
        double total;
        
        subtotal = Double.parseDouble(txtSubP.getText());
        impuesto = Double.parseDouble(txtPrecioImpuestoP.getText());        
        
        total = subtotal + impuesto;
        txtTotalP.setText(String.valueOf(total));
        String cadena = txtTotalP.getText();
        String[] parts = cadena.split("\\.");      
        String cadena2 = parts[1];
        if(cadena2.length()==1){
            txtTotalP.setText(cadena+0);
        }else if (cadena2.length()==0) {
            txtTotalP.setText(cadena+00);
        }
        
    }
    
    private void btnGuardarManActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGuardarManActionPerformed
        // TODO add your handling code here:
        if (!txtFecha.getText().isEmpty() && !txtMan.getText().isEmpty() && !txtSub.getText().isEmpty() && !txtIdImpuesto.getText().isEmpty() && !txtTotal.getText().isEmpty()) {
            fam.setFecha(txtFecha.getText());
            fam.setMantenimiento(Integer.parseInt(txtMan.getText()));
            fam.setSub(Double.parseDouble(txtSub.getText()));
            fam.setImpuesto(Integer.parseInt(txtIdImpuesto.getText()));
            fam.setTotal(Double.parseDouble(txtTotal.getText()));
            fam.setPago(1);
            try{
//                JOptionPane.showMessageDialog(this, "Fecha "+ fam.getFecha()+" Man "+ fam.getMantenimiento()+
//                        " sub "+fam.getSub()+ " Impuesto " + fam.getImpuesto()+" total "+ fam.getTotal() + 
//                        " pago "+ fam.getPago());
                    if (fam.Añadir_factura()) {
                        JOptionPane.showMessageDialog(this, "Datos guardados");
                        Limpiar();
                    }
                    else{
                        JOptionPane.showMessageDialog(this, "Error al guardar datos");
                    }
                }
                catch (HeadlessException ex) {
                    Logger.getLogger(Factura.class.getName()).log(Level.SEVERE, null, ex);
                } 
        }
        
    }//GEN-LAST:event_btnGuardarManActionPerformed

    private void btnManActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnManActionPerformed
        // TODO add your handling code here:
        FiltroMn flm = new FiltroMn();
        flm.setVisible(true);
    }//GEN-LAST:event_btnManActionPerformed

    private void btnManMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnManMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_btnManMouseClicked

    private void btnMan1MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnMan1MouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_btnMan1MouseClicked

    private void btnMan1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMan1ActionPerformed
        // TODO add your handling code here:
        FiltroMnP flm = new FiltroMnP();
        flm.setVisible(true);
    }//GEN-LAST:event_btnMan1ActionPerformed

    public void guardar2(){
//        JOptionPane.showMessageDialog(this, "Botón Apretado");
        if (!txtFechaP.getText().isEmpty() && !txtMp.getText().isEmpty() && !txtSubP.getText().isEmpty() && !txtIdImpuesto.getText().isEmpty() && !txtTotalP.getText().isEmpty()) {
            fam.setFecha(txtFechaP.getText());
            fam.setMantenimiento(Integer.parseInt(txtMp.getText()));
            fam.setSub(Double.parseDouble(txtSubP.getText()));
            fam.setImpuesto(Integer.parseInt(txtIdImpuesto.getText()));
            fam.setTotal(Double.parseDouble(txtTotalP.getText()));
            fam.setPago(1);
//            JOptionPane.showMessageDialog(this, "Botón Apretado 2");
            try{
//                JOptionPane.showMessageDialog(this, "Fecha "+ fam.getFecha()+" Man "+ fam.getMantenimiento()+
//                        " sub "+fam.getSub()+ " Impuesto " + fam.getImpuesto()+" total "+ fam.getTotal() + 
//                        " pago "+ fam.getPago());
//                JOptionPane.showMessageDialog(this, "Botón Apretado 3");
                    if (fam.Añadir_facturaP()) {
//                        JOptionPane.showMessageDialog(this, "Botón Apretado 4");
                        JOptionPane.showMessageDialog(this, "Datos guardados");
                        Limpiar();
                    }
                    else{
                        JOptionPane.showMessageDialog(this, "Error al guardar datos");
//                        JOptionPane.showMessageDialog(this, "Botón Apretado 4");
                    }
                }
                catch (HeadlessException ex) {
                    Logger.getLogger(Factura.class.getName()).log(Level.SEVERE, null, ex);
                } 
        }
    }
    private void btnGuardarManPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnGuardarManPActionPerformed
        // TODO add your handling code here:
//        JOptionPane.showMessageDialog(this, "Fecha "+ fam.getFecha()+" Man "+ fam.getMantenimiento()+
//                        " sub "+fam.getSub()+ " Impuesto " + fam.getImpuesto()+" total "+ fam.getTotal() + 
//                        " pago "+ fam.getPago());
        
        guardar2();
    }//GEN-LAST:event_btnGuardarManPActionPerformed

    private void cmbImpuestoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbImpuestoActionPerformed
        // TODO add your handling code here:
        String cadena =(String) cmbImpuesto.getSelectedItem();
        String[] parts = cadena.split("\\$");
        txtPrecioImpuesto.setText(parts[1]);
        Total();
        txtIdImpuesto.setText(String.valueOf(cmbImpuesto.getSelectedIndex()));
    }//GEN-LAST:event_cmbImpuestoActionPerformed

    private void cmbImpuestoPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cmbImpuestoPActionPerformed
        // TODO add your handling code here:
        String cadena =(String) cmbImpuestoP.getSelectedItem();
        String[] parts = cadena.split("\\$");
        txtPrecioImpuestoP.setText(parts[1]);
        TotalP();
        txtIdImpuesto.setText(String.valueOf(cmbImpuestoP.getSelectedIndex()));
    }//GEN-LAST:event_cmbImpuestoPActionPerformed
    public void Limpiar(){
        txtIdImpuesto.setText("");
        txtPrecioImpuestoP.setText("0.00");
        txtPrecioImpuesto.setText("0.00");
        txtTotal.setText("0.00");
        txtTotalP.setText("0.00");
        txtSub.setText("0.00");
        txtSubP.setText("0.00");
        txtMan.setText("");
        txtMp.setText("");
        comboImpuesto();
    }
    private void btnLimparActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnLimparActionPerformed
        // TODO add your handling code here:
        Limpiar();
    }//GEN-LAST:event_btnLimparActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnGuardarMan;
    private javax.swing.JButton btnGuardarManP;
    private javax.swing.JButton btnLimpar;
    private javax.swing.JButton btnMan;
    private javax.swing.JButton btnMan1;
    private javax.swing.JComboBox<String> cmbImpuesto;
    private javax.swing.JComboBox<String> cmbImpuestoP;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JFormattedTextField txtFecha;
    private javax.swing.JFormattedTextField txtFechaP;
    private javax.swing.JTextField txtIdImpuesto;
    public static javax.swing.JTextField txtMan;
    public static javax.swing.JTextField txtMp;
    private javax.swing.JTextField txtPrecioImpuesto;
    private javax.swing.JTextField txtPrecioImpuestoP;
    public static javax.swing.JTextField txtSub;
    public static javax.swing.JTextField txtSubP;
    private javax.swing.JTextField txtTotal;
    private javax.swing.JTextField txtTotalP;
    // End of variables declaration//GEN-END:variables
}
